import{a as N,g as U}from"./chunk-WDVV34M4.js";import{A as Z,B as ee,e as G,g as J,i as W,y as Y,z as X}from"./chunk-57XGBVN7.js";import{q as K}from"./chunk-VLIKV6YA.js";import{$ as D,$a as i,Ab as q,Ca as c,J as P,La as p,N as v,Qa as _,R as $,Ta as y,X as m,Xa as h,Ya as j,Za as F,_a as z,a as A,ab as o,b as T,bb as s,fb as w,ia as u,ib as C,ja as d,jb as f,mb as L,o as x,pb as B,qb as S,rb as I,sb as E,tb as l,ub as Q,vb as R,z as O,za as V}from"./chunk-KZNR27XO.js";var g={apiBooksBaseUrl:"https://www.googleapis.com/books/v1/volumes",apiBooksKey:"AIzaSyAnkLK7se_lJIeR47gyqoOgRnj82deARfk"};var M=class n{#e=m(N);search="";get#t(){return`${g.apiBooksBaseUrl}?q=${this.search}&key=${g.apiBooksKey}`}#n=p(null);get getAllBooks(){return this.#n.asReadonly()}#o=p(null);get getAllBooksError(){return this.#o.asReadonly()}httpAllBooks$(t){return this.search=t,this.#n.set(null),this.#o.set(null),this.#e.get(this.#t).pipe(P(),v(e=>this.#n.set(e)),O(e=>(this.#o.set(e.error.message),x(()=>e))))}bookId="";get#a(){return`${g.apiBooksBaseUrl}/${this.bookId}?key=${g.apiBooksKey}`}#i=p(null);get getBookId(){return this.#i.asReadonly()}#r=p(null);get getBookIdErro(){return this.#r.asReadonly()}httpBookId$(t){return this.bookId=t,this.#i.set(null),this.#r.set(null),this.#e.get(`${this.#a}`).pipe(P(),v(e=>this.#i.set(e)),O(e=>(this.#r.set(e.error.message),x(()=>e))))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var ne=["search"],oe=["booksSection"];function ie(n,t){if(n&1&&s(0,"img",7),n&2){let e=f().$implicit;L("alt",e.volumeInfo.title),y("src",e.volumeInfo.imageLinks.thumbnail,V)}}function re(n,t){n&1&&s(0,"p-skeleton",8)}function ae(n,t){if(n&1&&(i(0,"p"),l(1),o()),n&2){let e=f().$implicit;c(),R(" ",e.volumeInfo.authors,"")}}function le(n,t){n&1&&(i(0,"p"),l(1,"Sem Autor"),o())}function ce(n,t){if(n&1){let e=w();i(0,"li"),_(1,ie,1,2,"img",7)(2,re,1,0,"p-skeleton",8),i(3,"h5"),l(4),o(),_(5,ae,2,1,"p")(6,le,2,0,"p"),s(7,"p-rating",9),i(8,"button",5),C("click",function(){let r=u(e).$implicit,k=f(2);return d(k.clickBookDetails(r.id))}),i(9,"h6"),l(10,"Read more"),o(),s(11,"i",10),o()()}if(n&2){let e=t.$implicit;c(),h(e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.thumbnail?1:2),c(3),R(" ",e.volumeInfo.title,""),c(),h(e.volumeInfo.authors?5:6),c(2),y("ngModel",e.randomRating)("readonly",!0)("cancel",!1)}}function se(n,t){n&1&&(i(0,"h2"),l(1,"Loading..."),o())}function me(n,t){n&1&&(i(0,"ul"),F(1,ce,12,6,"li",null,j,!1,se,2,0,"h2"),o()),n&2&&(c(),z(t))}function pe(n,t){n&1&&(i(0,"li"),l(1,"Loss of connection"),o())}var H=class n{#e=m(M);#t=m(U);search;booksSection;books=[];nameSearch="";bookDetail=null;searchValue="Maquiavel";ngOnInit(){this.searchBooks(this.searchValue)}searchBooks(t){this.#e.httpAllBooks$(t).subscribe({next:e=>{this.books=(e.items||[]).map(a=>T(A({},a),{randomRating:this.getRandomValue(0,5)}))},error:()=>{this.books=[]}})}searchBookOrAuthor(t){t&&(this.nameSearch=t,this.searchBooks(t),this.scrollToBooks(),this.search.nativeElement.value="")}scrollToBooks(){this.booksSection.nativeElement.scrollIntoView({behavior:"smooth"})}clickBookDetails(t){t&&this.bookDetails(t)}bookDetails(t){this.#e.httpBookId$(t).subscribe({next:e=>{this.bookDetail=e,this.#t.navigate([`/book-details/${e.id}`],{state:{bookDetail:e}})},error:()=>{this.bookDetail=null}})}getRandomValue(t,e){return Math.floor(Math.random()*(e-t+1))+t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-home"]],viewQuery:function(e,a){if(e&1&&(B(ne,5),B(oe,5)),e&2){let r;S(r=I())&&(a.search=r.first),S(r=I())&&(a.booksSection=r.first)}},standalone:!0,features:[q],decls:19,vars:2,consts:[["search",""],["booksSection",""],[1,"title"],["src","assets/images/goodreads.svg","alt","Goodreads logo"],["type","text","placeholder","Search book, name, author, ......",3,"keyup.enter"],[3,"click"],["src","assets/icons/search-input.svg","alt","Search icon"],[3,"src","alt"],["width","10rem","height","4rem"],[3,"ngModel","readonly","cancel"],[1,"pi","pi-window-maximize"]],template:function(e,a){if(e&1){let r=w();i(0,"main")(1,"section")(2,"div")(3,"h4",2),l(4,"Welcome to"),o(),s(5,"img",3),o(),i(6,"label")(7,"input",4,0),C("keyup.enter",function(){u(r);let b=E(8);return d(a.searchBookOrAuthor(b.value))}),o(),i(9,"button",5),C("click",function(){u(r);let b=E(8);return d(a.searchBookOrAuthor(b.value))}),s(10,"img",6),o()(),i(11,"p"),l(12,"Meet your favorite book, find your reading community, and manage your reading life."),o()(),i(13,"article",null,1)(15,"h3",2),l(16),o(),_(17,me,4,1,"ul")(18,pe,2,0,"li"),o()()}if(e&2){let r;c(16),Q(a.nameSearch?"Your Search: "+a.nameSearch:"Trending this week"),c(),h((r=a.books)?17:18,r)}},dependencies:[K,ee,Z,W,G,J,X,Y],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:50px}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:83vh;max-width:100vw;align-items:center}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:65%;align-items:center;justify-content:center;gap:20px}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:59px;letter-spacing:1px}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border:2px solid black;display:flex;align-items:center;flex-direction:row-reverse;justify-content:center;width:45%;height:45px;border-radius:32px;padding-left:10px}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;background-color:transparent;font-size:14px;letter-spacing:.1px;box-sizing:border-box}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:none}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;cursor:pointer;background:transparent;display:flex;align-items:center;justify-content:center;height:39px}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}main[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:25px;font-size:24px;width:57%;height:97px;text-align:center;line-height:32px}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:25px;padding:50px 55px;background-color:var(--contents)}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-left:112px;font-size:27px;padding-bottom:17px}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:60px;justify-content:center}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:205px;height:385px;justify-content:space-between}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:14px 11px 8px #00000059;height:241px}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .p-skeleton.p-component[_ngcontent-%COMP%]{height:241px!important;width:100%!important}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:13px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .p-rating[_ngcontent-%COMP%]   .p-rating-item.p-rating-item-active[_ngcontent-%COMP%]   .p-rating-icon[_ngcontent-%COMP%]{color:var(--author)}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:var(--author);height:40px;font-weight:700;font-size:16px;letter-spacing:.3px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;color:var(--text-primary)!important}"]})};export{H as default};
